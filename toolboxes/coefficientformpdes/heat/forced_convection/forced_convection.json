// -*- mode: javascript -*-
{
    "Name": "Test heat toolbox",
    "ShortName":"TestHeat",
    "Models":
    {
        "equations":[
            {
                "name":"heat",
                "unknown":
                {
                    "basis":"Pch1",
                    "name":"temperature",
                    "symbol":"T"
                }
            }]
    },
    "Meshes":
    {
        "cfpdes":
        {
            "Import":
            {
                //"filename":"$repository/toolboxes/fluid/TurekHron/cfd2/P2P1G1/np_1/fluid.msh"
                "filename":"$repository/toolboxes/fluid/TurekHron/cfd2/P2P1G1/np_24/fluid.json"
            },
            "Fields":
            {
                "v":
                {
                    //"filename":"$repository/toolboxes/fluid/TurekHron/cfd2/P2P1G1/np_1/fluid.save/velocity.h5",
                    "filename":"$repository/toolboxes/fluid/TurekHron/cfd2/P2P1G1/np_24/fluid.save/velocity.h5",
                    "basis":"Pchv2"
                }
            }
        }
    },
    "Materials":
    {
        "Fluid":{
            "markers":"Fluid",
            "rho":"1.0e3",
            "mu":"1.0",
            "k":"2.9e-5",
            "Cp":"4185",
            "heat_c":"k:k",
            "heat_d":"rho*Cp:rho:Cp",
            "heat_beta":"{rho*Cp*meshes_cfpdes_fields_v_0,rho*Cp*meshes_cfpdes_fields_v_1}:rho:Cp:meshes_cfpdes_fields_v_0:meshes_cfpdes_fields_v_1"
        }
    },
    "BoundaryConditions":
    {
        "heat":
        {
            "Dirichlet":
            {
                "inlet":
                {
                    "expr":"( 293.15-10*(y-0.15)*(y-0.25)/(0.2^2) )*(y>0.15)*(y<0.25)+(293.15*(y<(0.15-1e-9)))+(293.15*(y>(0.25-1e-9))):y"
                }
            }
        }
    },
    "InitialConditions":
    {
        "temperature":
        {
            "Expression":
            {
                "myic":
                {
                    "markers":"Fluid",
                    "expr":293.15
                }
            }
        }
    },
    "PostProcess":
    {
        "Exports":
        {
            "fields":["heat.temperature"]

            ,"expr":
            {
                "heat_beta":"{materials_heat_beta_0,materials_heat_beta_1}:materials_heat_beta_0:materials_heat_beta_1"
            }
        }
    }

}
