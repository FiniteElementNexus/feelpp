{
    "Name": "Poiseuille flow in a pipe 2D",
    "ShortName":"pipe2d",
    "Models":
    {
        "fluid":
        {
            "equations":"Stokes"
        }   
    },
    "Parameters":
    {
        "nu":1,
        "L":1,
        "pin":1,
        "pout":0,
        "H":4,
        "uex":"(pin-pout)*(L-x)*x/(2*H*nu):pin:pout:L:x:H:nu",
        "pex":"pin+(pout-pin)*y/H:y:H:pin:pout",
        "ugradex":"-x*(pin - pout)/(2*H*nu) + (-x + L)*(pin - pout)/(2*H*nu):x:pin:pout:H:nu:L"
    },
    "Meshes":
    {
        "fluid":
        {
            "Import":
            {
                "filename":"$cfgdir/pipe-2d.geo"
            }
        }
    },
    "Materials":
    {
        "Omega":
        {
            "rho":"1",
            "mu":"nu:nu"
        }
    },
    "BoundaryConditions":
    {
        "fluid":
        {
            "velocity":
            {
                "left":
                {
                    "expr":"{0,0}"
                },
                "right":
                {
                    "expr":"{0,0}"
                }
            },
            "pressure":
            {
                "outlet":
                {
                    "expr":"pout:pout"
                },
                "inlet":
                {
                    "expr":"pin:pin"
                }
            }
        }
    },
    "PostProcess":
    {
        "fluid":
        {
            "Measures":
            {
                "Norm":
                {
                    "p": 
                    {
                        "type":"L2-error", 
                        "field":"pressure", 
                        "solution":"pex:pex",
                        "markers":"Omega" 
                    },
                    "u": 
                    {
                        "type":["L2-error", "H1-error"], 
                        "field":"velocity", 
                        "solution":"{0,uex}:uex",
                        "grad_solution":"{0,0,ugradex,0}:ugradex",
                        "markers":"Omega" 
                    }
                }
            },
            "Checkers":
            {
                "Measures":
                {
                    "Norm_u_L2-error":
                    {
                        "value":0,
                        "tolerance":1
                    },
                    "Norm_u_H1-error":
                    {
                        "value":0,
                        "tolerance":1
                    },
                    "Norm_p_L2-error":
                    {
                        "value":0,
                        "tolerance":1
                    }
                }
            },
            "Exports":
            {
                "fields":["velocity","pressure","pid"],
                "expr":
                {
                    "u_ex":"{0,uex}:uex",
                    "p_ex":"pex:pex"
                }
            }
        }
    }
}
