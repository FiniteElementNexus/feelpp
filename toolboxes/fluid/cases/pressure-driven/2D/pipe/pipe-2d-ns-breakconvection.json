{
    "Name": "Poiseuille flow in a pipe 2D",
    "ShortName":"pipe2d",
    "Models":
    {
        "equations":"Stokes"
    },
    "Parameters":
    {
        "nu":1,
        "L":1,
        "pin":1,
        "pout":0,
        "H":4,
        "uex":"(pin-pout)*(L-x)*x/(2*H*nu):pin:pout:L:x:H:nu",
        "pex":"pin+(pout-pin)*y/H:y:H:pin:pout",
        "pdynex":"1 - y/H + (1-x)*(1-x)*x*x/128:x:y:H", // "pex + 0.5*uex^2:pex:uex"
        "ugradex":"-x*(pin - pout)/(2*H*nu) + (-x + L)*(pin - pout)/(2*H*nu):x:pin:pout:H:nu:L"
    },
    "Materials":
    {
        "Omega":{
            "rho":"1",
            "mu":"nu:nu"
        }
    },
    "BoundaryConditions":
    {
        "velocity":
        {
            "VolumicForces":
            {
                "Omega":
                {
                    "expr":"{0,0}"
                }
            },
            "Dirichlet":
            {
                "left":
                {
                    "expr":"{0,0}"
                },
                "right":
                {
                    "expr":"{0,0}"
                }
            }
        }/*,
        "pressure":
        {
            "Dirichlet":
            {
                "outlet":
                {
                    "expr":"pdynex:pdynex"
                },
                "inlet":
                {
                    "expr":"pdynex:pdynex"
                }
            }
        }*/
    },
	"Exact solution":
	{
	    "p_exact":
	    {
		    "Omega":
		    {
		        "expr":"pex:pex"
		    }
	    },
        "u_exact":
        {
            "Omega":
            {
                "expr":"{0,uex}:uex"
            }
        }
    },
    "PostProcess":
    {
        "Measures":
        {
            "Norm":
            {
                "p": 
                {
                    "type":"L2-error", 
                    "field":"pressure", 
                    "solution":"pex:pex",
                    "markers":"Omega" 
                },
                "u": 
                {
                    "type":["L2-error", "H1-error"], 
                    "field":"velocity", 
                    "solution":"{0,uex}:uex",
                    "grad_solution":"{0,0,ugradex,0}:ugradex",
                    "markers":"Omega" 
                }
            }
        },
        "Checkers":
        {
            "Measures":
            {
                "Norm_u_L2-error":
                {
                    "value":0,
                    "tolerance":1
                },
                "Norm_u_H1-error":
                {
                    "value":0,
                    "tolerance":1
                },
                "Norm_p_L2-error":
                {
                    "value":0,
                    "tolerance":1
                }
            }
        },
        "Exports":
        {
            "fields":["velocity","pressure","pid"],
            "expr":
            {
                "u_ex":"{0,uex}:uex",
                "p_ex":"pex:pex"
            }
        }
    }

}
