{
    "Name": "curved pipe Navier-Stokes 2d",
    "ShortName":"cpns2d",
    "Models":
    {
        "equations":"Navier-Stokes"
    },
    "Parameters":
    {
        "nu":1,
        "pi":3.141592653589793,
        "alpha1":"pi/2:pi",
        "alpha":"pi/6:pi",
        "alpha2":"alpha1+alpha:alpha1:alpha",
        "r1":1.9,
        "r2":2.1,
        "pin":10,
        "pout":1,
        "pex":"(pin*(-alpha1+acos(x/sqrt(x^2+y^2)))-pout*(-alpha-alpha1+acos(x/sqrt(x^2+y^2))))/alpha:x:y:pin:pout:alpha1:alpha",
        "pdynex":"(-pin*(alpha1 - acos(x/sqrt(x^2 + y^2))) + pout*(alpha + alpha1 - acos(x/sqrt(x^2 + y^2))))/alpha + 0.125*x^2*(pin - pout)^2*(r1^2*r2^2*(log(r1) - log(r2)) + (r1^2 - r2^2)*(x^2 + y^2)*log(x^2 + y^2)/2 - (x^2 + y^2)*(r1^2*log(r1) - r2^2*log(r2)))^2/(alpha^2*(r1^2 - r2^2)^2*(x^2 + y^2)^2) + 0.125*y^2*(pin - pout)^2*(r1^2*r2^2*(log(r1) - log(r2)) + (r1^2 - r2^2)*(x^2 + y^2)*log(x^2 + y^2)/2 - (x^2 + y^2)*(r1^2*log(r1) - r2^2*log(r2)))^2/(alpha^2*(r1^2 - r2^2)^2*(x^2 + y^2)^2):x:y:alpha:alpha1:r1:r2:pin:pout",
        "uexx":"-(pin-pout)*sqrt(-x^2/(x^2+y^2)+1)*(0.5*r1^2*r2^2*(log(r1)-log(r2))/(sqrt(x^2+y^2)*(r1^2-r2^2))+0.5*sqrt(x^2+y^2)*log(sqrt(x^2+y^2))+sqrt(x^2+y^2)*(-0.5*r1^2*log(r1)+0.5*r2^2*log(r2))/(r1^2-r2^2))/alpha:x:y:pin:pout:alpha1:alpha:r1:r2",
        "uexy":"x*(pin-pout)*(0.5*r1^2*r2^2*(log(r1)-log(r2))/(sqrt(x^2+y^2)*(r1^2-r2^2))+0.5*sqrt(x^2+y^2)*log(sqrt(x^2+y^2))+sqrt(x^2+y^2)*(-0.5*r1^2*log(r1)+0.5*r2^2*log(r2))/(r1^2-r2^2))/(alpha*sqrt(x^2+y^2)):x:y:pin:pout:alpha1:alpha:r1:r2",
        "ugradexxx":"-(pin-pout)*sqrt(-x^2/(x^2+y^2)+1)*(-0.5*x*r1^2*r2^2*(log(r1)-log(r2))/((x^2+y^2)^(3/2)*(r1^2-r2^2))+0.5*x*log(sqrt(x^2+y^2))/sqrt(x^2+y^2)+0.5*x/sqrt(x^2+y^2)+x*(-0.5*r1^2*log(r1)+0.5*r2^2*log(r2))/(sqrt(x^2+y^2)*(r1^2-r2^2)))/alpha-(pin-pout)*(x^3/(x^2+y^2)^2-x/(x^2+y^2))*(0.5*r1^2*r2^2*(log(r1)-log(r2))/(sqrt(x^2+y^2)*(r1^2-r2^2))+0.5*sqrt(x^2+y^2)*log(sqrt(x^2+y^2))+sqrt(x^2+y^2)*(-0.5*r1^2*log(r1)+0.5*r2^2*log(r2))/(r1^2-r2^2))/(alpha*sqrt(-x^2/(x^2+y^2)+1)):x:y:pin:pout:alpha1:alpha:r1:r2",
        "ugradexxy":"-x^2*(pin-pout)*(0.5*r1^2*r2^2*(log(r1)-log(r2))/(sqrt(x^2+y^2)*(r1^2-r2^2))+0.5*sqrt(x^2+y^2)*log(sqrt(x^2+y^2))+sqrt(x^2+y^2)*(-0.5*r1^2*log(r1)+0.5*r2^2*log(r2))/(r1^2-r2^2))/(alpha*(x^2+y^2)^(3/2))+x*(pin-pout)*(-0.5*x*r1^2*r2^2*(log(r1)-log(r2))/((x^2+y^2)^(3/2)*(r1^2-r2^2))+0.5*x*log(sqrt(x^2+y^2))/sqrt(x^2+y^2)+0.5*x/sqrt(x^2+y^2)+x*(-0.5*r1^2*log(r1)+0.5*r2^2*log(r2))/(sqrt(x^2+y^2)*(r1^2-r2^2)))/(alpha*sqrt(x^2+y^2))+(pin-pout)*(0.5*r1^2*r2^2*(log(r1)-log(r2))/(sqrt(x^2+y^2)*(r1^2-r2^2))+0.5*sqrt(x^2+y^2)*log(sqrt(x^2+y^2))+sqrt(x^2+y^2)*(-0.5*r1^2*log(r1)+0.5*r2^2*log(r2))/(r1^2-r2^2))/(alpha*sqrt(x^2+y^2)):x:y:pin:pout:alpha1:alpha:r1:r2",
        "ugradexyx":"-x^2*y*(pin-pout)*(0.5*r1^2*r2^2*(log(r1)-log(r2))/(sqrt(x^2+y^2)*(r1^2-r2^2))+0.5*sqrt(x^2+y^2)*log(sqrt(x^2+y^2))+sqrt(x^2+y^2)*(-0.5*r1^2*log(r1)+0.5*r2^2*log(r2))/(r1^2-r2^2))/(alpha*(x^2+y^2)^2*sqrt(-x^2/(x^2+y^2)+1))-(pin-pout)*sqrt(-x^2/(x^2+y^2)+1)*(-0.5*y*r1^2*r2^2*(log(r1)-log(r2))/((x^2+y^2)^(3/2)*(r1^2-r2^2))+0.5*y*log(sqrt(x^2+y^2))/sqrt(x^2+y^2)+0.5*y/sqrt(x^2+y^2)+y*(-0.5*r1^2*log(r1)+0.5*r2^2*log(r2))/(sqrt(x^2+y^2)*(r1^2-r2^2)))/alpha:x:y:pin:pout:alpha1:alpha:r1:r2",
        "ugradexyy":"-x*y*(pin-pout)*(0.5*r1^2*r2^2*(log(r1)-log(r2))/(sqrt(x^2+y^2)*(r1^2-r2^2))+0.5*sqrt(x^2+y^2)*log(sqrt(x^2+y^2))+sqrt(x^2+y^2)*(-0.5*r1^2*log(r1)+0.5*r2^2*log(r2))/(r1^2-r2^2))/(alpha*(x^2+y^2)^(3/2))+x*(pin-pout)*(-0.5*y*r1^2*r2^2*(log(r1)-log(r2))/((x^2+y^2)^(3/2)*(r1^2-r2^2))+0.5*y*log(sqrt(x^2+y^2))/sqrt(x^2+y^2)+0.5*y/sqrt(x^2+y^2)+y*(-0.5*r1^2*log(r1)+0.5*r2^2*log(r2))/(sqrt(x^2+y^2)*(r1^2-r2^2)))/(alpha*sqrt(x^2+y^2)):x:y:pin:pout:alpha1:alpha:r1:r2",
        "Cx":"x*(pin - pout)*(x^2*y*(-pin + pout)*(0.5*r1^2*r2^2*(log(r1) - log(r2))/((r1^2 - r2^2)*sqrt(x^2 + y^2)) + 0.5*sqrt(x^2 + y^2)*log(sqrt(x^2 + y^2)) + sqrt(x^2 + y^2)*(-0.5*r1^2*log(r1) + 0.5*r2^2*log(r2))/(r1^2 - r2^2))/(alpha*(x^2 + y^2)^2*sqrt(-x^2/(x^2 + y^2) + 1)) + (-pin + pout)*sqrt(-x^2/(x^2 + y^2) + 1)*(-0.5*r1^2*r2^2*y*(log(r1) - log(r2))/((r1^2 - r2^2)*(x^2 + y^2)^(3/2)) + 0.5*y*log(sqrt(x^2 + y^2))/sqrt(x^2 + y^2) + 0.5*y/sqrt(x^2 + y^2) + y*(-0.5*r1^2*log(r1) + 0.5*r2^2*log(r2))/((r1^2 - r2^2)*sqrt(x^2 + y^2)))/alpha)*(0.5*r1^2*r2^2*(log(r1) - log(r2))/((r1^2 - r2^2)*sqrt(x^2 + y^2)) + 0.5*sqrt(x^2 + y^2)*log(sqrt(x^2 + y^2)) + sqrt(x^2 + y^2)*(-0.5*r1^2*log(r1) + 0.5*r2^2*log(r2))/(r1^2 - r2^2))/(alpha*sqrt(x^2 + y^2)) + (-pin + pout)*sqrt(-x^2/(x^2 + y^2) + 1)*((-pin + pout)*sqrt(-x^2/(x^2 + y^2) + 1)*(-0.5*r1^2*r2^2*x*(log(r1) - log(r2))/((r1^2 - r2^2)*(x^2 + y^2)^(3/2)) + 0.5*x*log(sqrt(x^2 + y^2))/sqrt(x^2 + y^2) + 0.5*x/sqrt(x^2 + y^2) + x*(-0.5*r1^2*log(r1) + 0.5*r2^2*log(r2))/((r1^2 - r2^2)*sqrt(x^2 + y^2)))/alpha + (-pin + pout)*(x^3/(x^2 + y^2)^2 - x/(x^2 + y^2))*(0.5*r1^2*r2^2*(log(r1) - log(r2))/((r1^2 - r2^2)*sqrt(x^2 + y^2)) + 0.5*sqrt(x^2 + y^2)*log(sqrt(x^2 + y^2)) + sqrt(x^2 + y^2)*(-0.5*r1^2*log(r1) + 0.5*r2^2*log(r2))/(r1^2 - r2^2))/(alpha*sqrt(-x^2/(x^2 + y^2) + 1)))*(0.5*r1^2*r2^2*(log(r1) - log(r2))/((r1^2 - r2^2)*sqrt(x^2 + y^2)) + 0.5*sqrt(x^2 + y^2)*log(sqrt(x^2 + y^2)) + sqrt(x^2 + y^2)*(-0.5*r1^2*log(r1) + 0.5*r2^2*log(r2))/(r1^2 - r2^2))/alpha:x:y:pin:pout:alpha1:alpha:r1:r2",
        "Cy":"x*(pin - pout)*(-x*y*(pin - pout)*(0.5*r1^2*r2^2*(log(r1) - log(r2))/((r1^2 - r2^2)*sqrt(x^2 + y^2)) + 0.5*sqrt(x^2 + y^2)*log(sqrt(x^2 + y^2)) + sqrt(x^2 + y^2)*(-0.5*r1^2*log(r1) + 0.5*r2^2*log(r2))/(r1^2 - r2^2))/(alpha*(x^2 + y^2)^(3/2)) + x*(pin - pout)*(-0.5*r1^2*r2^2*y*(log(r1) - log(r2))/((r1^2 - r2^2)*(x^2 + y^2)^(3/2)) + 0.5*y*log(sqrt(x^2 + y^2))/sqrt(x^2 + y^2) + 0.5*y/sqrt(x^2 + y^2) + y*(-0.5*r1^2*log(r1) + 0.5*r2^2*log(r2))/((r1^2 - r2^2)*sqrt(x^2 + y^2)))/(alpha*sqrt(x^2 + y^2)))*(0.5*r1^2*r2^2*(log(r1) - log(r2))/((r1^2 - r2^2)*sqrt(x^2 + y^2)) + 0.5*sqrt(x^2 + y^2)*log(sqrt(x^2 + y^2)) + sqrt(x^2 + y^2)*(-0.5*r1^2*log(r1) + 0.5*r2^2*log(r2))/(r1^2 - r2^2))/(alpha*sqrt(x^2 + y^2)) + (-pin + pout)*sqrt(-x^2/(x^2 + y^2) + 1)*(-x^2*(pin - pout)*(0.5*r1^2*r2^2*(log(r1) - log(r2))/((r1^2 - r2^2)*sqrt(x^2 + y^2)) + 0.5*sqrt(x^2 + y^2)*log(sqrt(x^2 + y^2)) + sqrt(x^2 + y^2)*(-0.5*r1^2*log(r1) + 0.5*r2^2*log(r2))/(r1^2 - r2^2))/(alpha*(x^2 + y^2)^(3/2)) + x*(pin - pout)*(-0.5*r1^2*r2^2*x*(log(r1) - log(r2))/((r1^2 - r2^2)*(x^2 + y^2)^(3/2)) + 0.5*x*log(sqrt(x^2 + y^2))/sqrt(x^2 + y^2) + 0.5*x/sqrt(x^2 + y^2) + x*(-0.5*r1^2*log(r1) + 0.5*r2^2*log(r2))/((r1^2 - r2^2)*sqrt(x^2 + y^2)))/(alpha*sqrt(x^2 + y^2)) + (pin - pout)*(0.5*r1^2*r2^2*(log(r1) - log(r2))/((r1^2 - r2^2)*sqrt(x^2 + y^2)) + 0.5*sqrt(x^2 + y^2)*log(sqrt(x^2 + y^2)) + sqrt(x^2 + y^2)*(-0.5*r1^2*log(r1) + 0.5*r2^2*log(r2))/(r1^2 - r2^2))/(alpha*sqrt(x^2 + y^2)))*(0.5*r1^2*r2^2*(log(r1) - log(r2))/((r1^2 - r2^2)*sqrt(x^2 + y^2)) + 0.5*sqrt(x^2 + y^2)*log(sqrt(x^2 + y^2)) + sqrt(x^2 + y^2)*(-0.5*r1^2*log(r1) + 0.5*r2^2*log(r2))/(r1^2 - r2^2))/alpha:x:y:pin:pout:alpha1:alpha:r1:r2"
    },
    "Materials":
    {
        "Omega":{
            "rho":"1",
            "mu":"nu:nu"
        }
    },
    "BoundaryConditions":
    {
        "velocity":
        {
            "VolumicForces":
            {
                "Omega":
                {
                    "expr":"{Cx,Cy}:Cx:Cy"
                }
            },
            "Dirichlet":
            {
                "wall":
                {
                    "expr":"{uexx,uexy}:uexx:uexy"
                }
            }
        },
        "pressure":
        {
            "Dirichlet":
            {
                "inlet":
                {
                    "expr":"pdynex:pdynex"
                },
                "outlet":
                {
                    "expr":"pdynex:pdynex"
                }
            }
        }
    },
    "PostProcess":
    {
        "Measures":
        {
            "Norm":
            {
                "p": 
                {
                    "type":"L2-error", 
                    "field":"pressure",
                    "quad":8,
                    "solution":"pex:pex", 
                    "markers":"Omega" 
                },
                "u": 
                {
                    "type":["L2-error","H1-error"], 
                    "field":"velocity",
                    "quad":8,
                    "solution":"{uexx,uexy}:uexx:uexy",
                    "grad_solution":"{ugradexxx, ugradexyx, ugradexxy, ugradexyy}:ugradexxx:ugradexyx:ugradexxy:ugradexyy",
                    "markers":"Omega" 
                }
            }
        },
        "Checkers":
        {
            "Measures":
            {
                "Norm_u_L2-error":
                {
                    "value":0,
                    "tolerance":1
                },
                "Norm_u_H1-error":
                {
                    "value":0,
                    "tolerance":1
                },
                "Norm_p_L2-error":
                {
                    "value":0,
                    "tolerance":1
                }
            }
        },
        "Exports":
        {
            "fields":["velocity","pressure","pid"],
            "expr":
            {
                "u_ex":"{uexx,uexy}:uexx:uexy",
                "p_ex":"pex:pex"
            }
        }
    }

}
