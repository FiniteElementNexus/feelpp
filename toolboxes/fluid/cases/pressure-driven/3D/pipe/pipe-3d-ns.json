{
    "Name": "straight-pipe",
    "ShortName":"sp",
    "Models":
    {
        "fluid":
        {
            "equations":"Stokes"
        }
    },
    "Parameters":
    {
        "pi":3.141592653589793,
        "nu":1,
        "L":1,
        "pin":10,
        "pout":1,
        "R":0.2,
        "ugradexyx":"-y*(pin-pout)/(2*L*nu):y:pin:pout:L:nu",
        "ugradexzx":"-z*(pin-pout)/(2*L*nu):z:pin:pout:L:nu",
        "uex":"(pin-pout)*R^2*(1-(y^2+z^2)/(R^2))/(4*nu*L):x:y:z:R:pin:pout:nu:L",
        "pex":"pin+(pout-pin)*x/L:x:y:z:L:pin:pout"
    },
    "Meshes":
    {
        "fluid":
        {
            "Import":
            {
                "filename":"$cfgdir/pipe-3d.geo"
            }
        }
    },
    "Materials":
    {
        "Omega":
        {
            "rho":"1",
            "mu":"nu:nu"
        }
    },
    "BoundaryConditions":
    {
        "fluid":
        {
            "velocity":
            {
                "wall":
                {
                    "expr":"{uex,0,0}:uex"
                }
            },
            "pressure":
            {
                "outlet":
                {
                    "expr":"pout:pout"
                },
                "inlet":
                {
                    "expr":"pin:pin"
                }
            }
        }
    },
    "PostProcess":
    {
        "fluid":
        {
            "Measures":
            {
                "Norm":
                {
                    "p": 
                    {
                        "type":"L2-error", 
                        "field":"pressure",
                        "quad":8,
                        "solution":"pex:pex",
                        "markers":"Omega" 
                    },
                    "u": 
                    {
                        "type":["L2-error", "H1-error"], 
                        "field":"velocity", 
                        "quad":8,
                        "solution":"{uex,0,0}:uex",
                        "grad_solution":"{0,ugradexyx,ugradexzx,0,0,0,0,0,0}:ugradexyx:ugradexzx",
                        "markers":"Omega" 
                    }
                }
            },
            "Checkers":
            {
                "Measures":
                {
                    "Norm_u_L2-error":
                    {
                        "value":0,
                        "tolerance":1
                    },
                    "Norm_u_H1-error":
                    {
                        "value":0,
                        "tolerance":1
                    },
                    "Norm_p_L2-error":
                    {
                        "value":0,
                        "tolerance":1
                    }
                }
            },
            "Exports":
            {
                "fields":["velocity","pressure","pid"],
                "expr":
                {
                    "u_ex":"{uex,0,0}:uex",
                    "p_ex":"pex:pex",
                    "ugrad_ex":"{0,ugradexyx,ugradexzx,0,0,0,0,0,0}:ugradexyx:ugradexzx"
                }
            }
        }
    }
}
