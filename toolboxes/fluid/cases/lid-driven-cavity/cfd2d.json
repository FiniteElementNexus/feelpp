// -*- mode: javascript -*-
{
    /*
      References :
      - https://www.comsol.fr/model/download/507571/lid_driven_cavity.pdf
     */
    "Name": "lid-driven-cavity",
    "ShortName":"lid-driven-cavity",
    "Models":
    {
        "fluid":{
            "equations":"Navier-Stokes"
        }
    },
    "Parameters":
    {
        "Re":"400"
    },
    "Meshes":
    {
        "fluid":
        {
            "Import":
            {
                "filename":"$cfgdir/cfd2d.geo"
                //"hsize":0.01
            }
        }
    },
    "Materials":
    {
        "Fluid":{
            "rho":"1",
            "mu":"1/Re:Re"
        }
    },
    "BoundaryConditions":
    {
        "fluid":
        {
            "velocity":
            {
                "moving-wall":
                {
                    "expr":"{1,0}"
                },
                "noslip-wall":
                {
                    "expr":"{0,0}"
                },
                "noslip-corner":
                {
                    "expr":"{0,0}"
                }
            }
        }
    },
    "PostProcess":
    {
        "fluid":
        {
            "Exports":
            {
                "fields":["velocity","pressure","pid"]
            },
            "Measures":
            {
                "Points":
                {
                    "vertical_centerline":
                    {
                        "over_geometry":
                        {
                            "segment":
                            {
                                "point1":"{0.5,0}",
                                "point2":"{0.5,1}",
                                "n_points":100
                            }
                        },
                        "fields":"velocity",
                        "include_coordinates":1,
                        "output":
                        {
                            "type":"table"
                            //"name":"vertical_centerline"
                        }
                    },
                    "horizontal_centerline":
                    {
                        "over_geometry":
                        {
                            "segment":
                            {
                                "point1":"{0,0.5}",
                                "point2":"{1,0.5}",
                                "n_points":100
                            }
                        },
                        "fields":"velocity",
                        "include_coordinates":1,
                        "output":
                        {
                            "type":"table"
                            //"name":"horizontal_centerline"
                        }
                    }

                }
            }
        }
    }

}
